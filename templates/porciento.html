{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <h2 class="text-center">
        📌 <b>Inscripción de Candidatas</b>
    </h2>

    <!-- 🛑 Mensajes de Error/Éxito -->
    {% if mensaje %}
        <div class="alert {% if 'Error' in mensaje or '⚠️' in mensaje %} alert-danger {% else %} alert-success {% endif %}">
            {{ mensaje }}
        </div>
    {% endif %}

    <!-- 🔍 Formulario de Búsqueda -->
    <div class="card shadow-sm p-3 mb-4">
        <h5>🔍 <b>Buscar Candidata</b></h5>
        <form method="POST">
            <div class="input-group mb-3">
                <span class="input-group-text">🔍</span>
                <input type="text" name="buscar" class="form-control" placeholder="Buscar por Nombre o Cédula..." required>
                <button type="submit" name="accion" value="buscar" class="btn btn-primary">🔎 Buscar</button>
            </div>
        </form>
    </div>

    {% if datos_candidata %}
    <form method="POST">
        <input type="hidden" name="fila_index" value="{{ datos_candidata.fila_index }}">

        <!-- 🆔 Datos de la Candidata -->
        <div class="card shadow-sm p-3 mb-4">
            <h5>📄 <b>Datos de la Candidata</b></h5>
            <div class="row">
                <div class="col-md-6">
                    <p><b>🆔 Código:</b> {{ datos_candidata.codigo }}</p>
                    <p><b>😊 Nombre:</b> {{ datos_candidata.nombre }}</p>
                    <p><b>📌 Cédula:</b> {{ datos_candidata.cedula }}</p>
                </div>
                <div class="col-md-6">
                    <p><b>📞 Teléfono:</b> {{ datos_candidata.telefono }}</p>
                    <p><b>🏡 Dirección:</b> {{ datos_candidata.direccion }}</p>
                    <p><b>🛠️ Modalidad:</b> {{ datos_candidata.modalidad }}</p>
                </div>
            </div>
        </div>

        <!-- ✏️ Editar Inscripción -->
        <div class="card shadow-sm p-3">
            <h5>✏️ <b>Editar Datos de Inscripción</b></h5>
            
            <div class="mb-3">
                <label for="estado"><b>📌 Estado:</b></label>
                <input type="text" name="estado" class="form-control" value="{{ datos_candidata.estado }}" required>
            </div>

            <div class="mb-3">
                <label for="monto"><b>💰 Monto:</b></label>
                <input type="number" name="monto" class="form-control" value="{{ datos_candidata.monto }}" required>
            </div>

            <div class="mb-3">
                <label for="fecha"><b>📅 Fecha de Inscripción:</b></label>
                <input type="date" name="fecha" class="form-control" value="{{ datos_candidata.fecha_inscripcion }}" required>
            </div>

            <button type="submit" name="accion" value="guardar" class="btn btn-success w-100">💾 Guardar</button>
        </div>
    </form>
    {% endif %}
</div>

<!-- 👣 Pie de Página -->
<footer class="mt-5 text-center text-muted">
    © 2025 <b>Doméstica del Cibao A&D</b> | Todos los derechos reservados
</footer>
{% endblock %}