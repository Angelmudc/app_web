{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <h2 class="text-center">
        ğŸ“Œ <b>InscripciÃ³n de Candidatas</b>
    </h2>

    <!-- ğŸ›‘ Mensajes de Error/Ã‰xito -->
    {% if mensaje %}
        <div class="alert {% if 'Error' in mensaje or 'âš ï¸' in mensaje %} alert-danger {% else %} alert-success {% endif %}">
            {{ mensaje }}
        </div>
    {% endif %}

    <!-- ğŸ” Formulario de BÃºsqueda -->
    <div class="card shadow-sm p-3 mb-4">
        <h5>ğŸ” <b>Buscar Candidata</b></h5>
        <form method="POST">
            <div class="input-group mb-3">
                <span class="input-group-text">ğŸ”</span>
                <input type="text" name="buscar" class="form-control" placeholder="Buscar por Nombre o CÃ©dula..." required>
                <button type="submit" name="accion" value="buscar" class="btn btn-primary">ğŸ” Buscar</button>
            </div>
        </form>
    </div>

    {% if datos_candidata %}
    <form method="POST">
        <input type="hidden" name="fila_index" value="{{ datos_candidata.fila_index }}">

        <!-- ğŸ†” Datos de la Candidata -->
        <div class="card shadow-sm p-3 mb-4">
            <h5>ğŸ“„ <b>Datos de la Candidata</b></h5>
            <div class="row">
                <div class="col-md-6">
                    <p><b>ğŸ†” CÃ³digo:</b> {{ datos_candidata.codigo }}</p>
                    <p><b>ğŸ˜Š Nombre:</b> {{ datos_candidata.nombre }}</p>
                    <p><b>ğŸ“Œ CÃ©dula:</b> {{ datos_candidata.cedula }}</p>
                </div>
                <div class="col-md-6">
                    <p><b>ğŸ“ TelÃ©fono:</b> {{ datos_candidata.telefono }}</p>
                    <p><b>ğŸ¡ DirecciÃ³n:</b> {{ datos_candidata.direccion }}</p>
                    <p><b>ğŸ› ï¸ Modalidad:</b> {{ datos_candidata.modalidad }}</p>
                </div>
            </div>
        </div>

        <!-- âœï¸ Editar InscripciÃ³n -->
        <div class="card shadow-sm p-3">
            <h5>âœï¸ <b>Editar Datos de InscripciÃ³n</b></h5>
            
            <div class="mb-3">
                <label for="estado"><b>ğŸ“Œ Estado:</b></label>
                <input type="text" name="estado" class="form-control" value="{{ datos_candidata.estado }}" required>
            </div>

            <div class="mb-3">
                <label for="monto"><b>ğŸ’° Monto:</b></label>
                <input type="number" name="monto" class="form-control" value="{{ datos_candidata.monto }}" required>
            </div>

            <div class="mb-3">
                <label for="fecha"><b>ğŸ“… Fecha de InscripciÃ³n:</b></label>
                <input type="date" name="fecha" class="form-control" value="{{ datos_candidata.fecha_inscripcion }}" required>
            </div>

            <button type="submit" name="accion" value="guardar" class="btn btn-success w-100">ğŸ’¾ Guardar</button>
        </div>
    </form>
    {% endif %}
</div>

<!-- ğŸ‘£ Pie de PÃ¡gina -->
<footer class="mt-5 text-center text-muted">
    Â© 2025 <b>DomÃ©stica del Cibao A&D</b> | Todos los derechos reservados
</footer>
{% endblock %}