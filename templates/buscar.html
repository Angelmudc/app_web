<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buscar Candidata</title>
</head>
<body>

    <h1>🔍 Buscar Candidata</h1>

    <label for="busqueda">Buscar por cédula o nombre:</label>
    <input type="text" id="busqueda">
    <button onclick="realizarBusqueda()">🔍 Buscar</button>

    <div id="resultados">
        {% if resultados %}
            <h2>📄 Resultados</h2>
            <ul>
                {% for candidata in resultados %}
                    <li>
                        <strong>Código:</strong> {{ candidata.codigo }} <br>
                        <strong>Nombre:</strong> {{ candidata.nombre }} <br>
                        <strong>Cédula:</strong> {{ candidata.cedula }} <br>
                        <strong>Teléfono:</strong> {{ candidata.telefono }} <br>
                        <strong>Ciudad:</strong> {{ candidata.ciudad }} <br>
                    </li>
                    <hr>
                {% endfor %}
            </ul>
        {% else %}
            <p>No se encontraron resultados.</p>
        {% endif %}
    </div>

    <script>
        function realizarBusqueda() {
            let busqueda = document.getElementById("busqueda").value.trim();
            if (!busqueda) {
                alert("⚠️ Ingresa un nombre o cédula para buscar.");
                return;
            }

            fetch('/buscar?query=${encodeURIComponent(busqueda)}')
                .then(response => response.text()) 
                .then(html => {
                    document.body.innerHTML = html; 
                })
                .catch(error => console.error("Error en la búsqueda:", error));
        }
    </script>

</body>
</html>