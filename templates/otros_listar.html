{% extends "ordenes_base.html" %}
{% block content %}
<div class="container container-main">
  <h1 class="mb-4 text-center">Listado de Candidatos Inscritos</h1>
  {% if mensaje %}
    <div class="alert alert-warning">{{ mensaje }}</div>
  {% endif %}
  <form method="GET" action="{{ url_for('otros_listar') }}" class="mb-3">
    <input type="text" name="q" class="form-control" placeholder="Buscar por Nombre, Cédula o Código" value="{{ q }}">
  </form>
  {% if candidatos %}
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Código</th>
          <th>Nombre</th>
          <th>Cédula</th>
          <th>Edad</th>
          <th>Teléfono</th>
          <th>Fecha de Inscripción</th>
          <th>Monto</th>
          <th>Vía</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        {% for cand in candidatos %}
          <tr>
            <td>{{ cand["codigo"] }}</td>
            <td>{{ cand["Nombre completo"] }}</td>
            <td>{{ cand["Cédula"] }}</td>
            <td>{{ cand["¿Qué edad tienes?"] }}</td>
            <td>{{ cand["Número de teléfono"] }}</td>
            <td>{{ cand["fecha"] }}</td>
            <td>{{ cand["monto"] }}</td>
            <td>{{ cand["via"] }}</td>
            <td>
              <a href="{{ url_for('otros_detalle', codigo=cand["codigo"]) }}" class="btn btn-sm btn-info">Editar</a>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>No se encontraron candidatos registrados.</p>
  {% endif %}
</div>
{% endblock %}
