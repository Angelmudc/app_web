{% extends "ordenes_base.html" %}

{% block content %}
<div class="container mt-4">
  <h1 class="mb-4 text-center">Listado de Candidatas - Otros Empleos</h1>
  
  {% if mensaje %}
    <div class="alert alert-warning">{{ mensaje }}</div>
  {% endif %}
  
  <!-- Formulario de búsqueda -->
  <form method="GET" action="{{ url_for('otros_listar') }}" class="mb-3">
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Buscar por nombre, cédula o teléfono" value="{{ query }}">
      <button type="submit" class="btn btn-primary">Buscar</button>
    </div>
  </form>
  
  {% if candidatos and candidatos|length > 0 %}
    <div class="table-responsive">
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>Nombre completo</th>
            <th>Edad</th>
            <th>Número de teléfono</th>
            <th>Cédula</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          {% for cand in candidatos %}
          <tr>
            <td>{{ cand["Nombre completo"] }}</td>
            <td>{{ cand["¿Qué edad tienes?"] }}</td>
            <td>{{ cand["Número de teléfono"] }}</td>
            <td>{{ cand["Cédula"] }}</td>
            <td>
              <a href="{{ url_for('otros_detalle', identifier=cand.identifier) }}" class="btn btn-sm btn-info">Ver Detalles</a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% else %}
    <p>No se encontraron candidatas.</p>
  {% endif %}
</div>
{% endblock %}
