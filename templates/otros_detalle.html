{% extends "ordenes_base.html" %}

{% block content %}
<div class="container mt-4">
  {% if candidato %}
    <h1 class="mb-4 text-center">Detalle del Candidato: {{ candidato["Nombre completo"] }}</h1>
    {% if mensaje %}
      <div class="alert alert-info">{{ mensaje }}</div>
    {% endif %}
    <table class="table table-bordered">
      <thead>
        <tr>
          {% for col in headers %}
            <th>{{ col }}</th>
          {% endfor %}
        </tr>
      </thead>
      <tbody>
        <tr>
          {% for col in headers %}
            <td>{{ candidato[col] }}</td>
          {% endfor %}
        </tr>
      </tbody>
    </table>
    
    <h3 class="mt-4">Editar Datos (Columnas C a R)</h3>
    <form method="POST" action="{{ url_for('otros_detalle', identifier=candidato["Nombre completo"] if candidato["Nombre completo"]|trim != "" else candidato["Cédula"]) }}">
      {% for idx in range(2, 18) %}
         <div class="mb-3">
            <label class="form-label">{{ headers[idx] }}</label>
            <input type="text" name="col{{ idx }}" class="form-control" value="{{ candidato[headers[idx]] }}">
         </div>
      {% endfor %}
      <button type="submit" class="btn btn-primary">Actualizar Información</button>
    </form>
  {% else %}
    <div class="alert alert-danger">Candidato no encontrado.</div>
    <a href="{{ url_for('otros_listar') }}" class="btn btn-secondary">Volver al Listado</a>
  {% endif %}
</div>
{% endblock %}
