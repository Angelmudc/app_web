/* static/css/components.css
   Navbar, cards, buttons, inputs, tablas
*/

/* Navbar */
.navbar{
  position: sticky;
  top: 0;
  z-index: 1000;
  backdrop-filter: blur(10px);
  background: var(--navbar-bg);
  border-bottom: 1px solid var(--navbar-border);
}
.navbar .navbar-brand{
  font-family: var(--font-display);
  font-weight: 700;
  letter-spacing: .2px;
  color: var(--text);
}
.navbar .nav-link{
  color: var(--muted);
  border-radius: 10px;
  padding: 8px 12px;
  transition: background var(--t-fast) var(--e-out), color var(--t-fast) var(--e-out);
}
.navbar .nav-link:hover{
  background: var(--panel-2);
  color: var(--text);
}
.navbar .nav-link.active{
  background: rgba(11,102,255,.14);
  color: var(--text);
}

/* Cards */
.card, .panel{
  background: var(--panel);
  border: 1px solid var(--border-2);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
}
.card{ padding: var(--sp-5); }
.panel{ padding: var(--sp-4); }

/* ⚠️ MUY IMPORTANTE:
   Si un contenedor padre tiene overflow hidden, los dropdowns se CORTAN.
   Aquí blindamos para que el menú de Acciones no se buguee/corte. */
.card,
.panel{
  overflow: visible;
}

/* Otros wrappers usados en el proyecto (ej. glass-card) también deben permitir dropdowns */
.glass-card,
.glass,
.card-body,
.panel-body{
  overflow: visible;
}

/* Badges */
.badge-soft{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: var(--panel-2);
  color: var(--muted);
  font-size: 12px;
}

/* Buttons */
.btn{
  border-radius: 12px;
  transition: transform var(--t-fast) var(--e-out), box-shadow var(--t-fast) var(--e-out);
}
.btn:active{ transform: translateY(1px); }
.btn:focus{ box-shadow: var(--ring) !important; }

.btn-primary{
  background: var(--brand) !important;
  border-color: rgba(0,0,0,.0) !important;
}
.btn-outline{
  background: transparent;
  border: 1px solid var(--border);
  color: var(--text);
}
.btn-outline:hover{
  background: var(--panel-2);
}

/* Inputs */
.form-control, .form-select{
  background: var(--input-bg) !important;
  border: 1px solid var(--input-border) !important;
  color: var(--input-text) !important;
  border-radius: 12px !important;
}
.form-control::placeholder{
  color: var(--placeholder) !important;
}
.form-control:focus, .form-select:focus{
  box-shadow: var(--ring) !important;
  border-color: rgba(11,102,255,.45) !important;
}
label.form-label{
  color: var(--muted);
  font-weight: 600;
}

/* Tables */
.table{
  color: var(--text);
}

/* ✅ Esto ayuda a que la tabla no se “rompa” rara y sea scrolleable */
.table td, .table th{
  border-color: var(--border) !important;
  vertical-align: middle;
}

/* Encabezado */
.table thead th{
  background: var(--table-head);
  border-bottom: 1px solid var(--border);
  color: var(--muted);
  font-weight: 700;
}

/* Hover */
.table tbody tr:hover{
  background: var(--row-hover);
}

/* ✅ Solución real para pantallas pequeñas:
   - La tabla mantiene un ancho mínimo y la envoltura hace scroll */
.table-responsive{
  overflow-x: auto !important;
  overflow-y: visible !important;
  -webkit-overflow-scrolling: touch;
  position: relative; /* ayuda a cálculos, sin recortar */
}

/* En algunos navegadores, cualquier overflow distinto de visible puede recortar el dropdown.
   Forzamos que el menú se renderice por encima del scroll container. */
.table-responsive .dropdown-menu{
  position: fixed !important;
}

/* La tabla solo fuerza scroll en pantallas medianas/pequeñas.
   En pantallas grandes NO forzamos min-width para que no se desalineen acciones. */
@media (max-width: 992px){
  .table-responsive > .table{
    min-width: 1100px;
  }
}

/* Evita que textos largos estiren raro columnas */
.table td, .table th{
  white-space: nowrap;
}

/* Footer */
footer{
  margin-top: 26px;
  padding: 18px 0;
  border-top: 1px solid var(--border);
  color: var(--muted);
}

/* Scroll top */
.scroll-top{
  position: fixed;
  right: 18px;
  bottom: 18px;
  width: 44px;
  height: 44px;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: var(--panel);
  color: var(--text);
  box-shadow: var(--shadow-md);
  display: none;
}
.scroll-top.show{ display: inline-flex; align-items:center; justify-content:center; }

/* Toast better */
.toast{
  border: 1px solid var(--border) !important;
  border-radius: 14px !important;
  box-shadow: var(--shadow-md);
}

/* ✅ Dropdowns (Acciones) — FIX + MEJOR USABILIDAD
   - z-index alto para que no quede detrás
   - no se corta dentro de cards/tabla
   - botón más grande
   - menú más ancho y con items más grandes (mejor en pantallas pequeñas)
*/
.dropdown{
  position: relative;
}

/* En tablas, ninguna celda debe recortar el menú (incluye th por si acaso) */
.table td,
.table th{
  overflow: visible;
}

/* El menú por encima de todo */
.dropdown-menu{
  z-index: 3000;
  min-width: 240px;           /* ✅ más ancho */
  padding: 10px 10px;         /* ✅ más espacio */
  border-radius: 14px;
  border: 1px solid var(--border);
  background: var(--panel);
  box-shadow: var(--shadow-md);
}

/* Items más grandes */
.dropdown-menu .dropdown-item{
  padding: 10px 12px;         /* ✅ más alto y cómodo */
  border-radius: 10px;
  color: var(--text);
  font-weight: 600;
}
.dropdown-menu .dropdown-item:hover{
  background: var(--panel-2);
}

/* Divisor */
.dropdown-divider{
  border-top: 1px solid var(--border);
  opacity: 1;
}

/* Botón “Acciones” más grande */
.dropdown-toggle.btn{
  padding: 10px 14px;
  border-radius: 12px;
  font-weight: 800;
  line-height: 1;
}

/* En pantallas pequeñas, evita que el menú se vaya raro */
@media (max-width: 576px){
  .dropdown-menu{
    min-width: 220px;
  }
  .dropdown-toggle.btn{
    width: 100%;              /* ✅ fácil de tocar */
  }
}